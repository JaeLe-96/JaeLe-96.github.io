<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yes/No Music App</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            transition: background-color 0.5s ease;
        }
        
        .container {
            text-align: center;
            padding: 20px;
            max-width: 600px;
            width: 100%;
        }
        /* Initial question screen */
        
        .question-screen {
            display: block;
        }
        /* Template screens (hidden by default) */
        
        .template-screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        h1 {
            color: #333;
            margin-bottom: 30px;
        }
        
        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }
        
        button {
            padding: 15px 40px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .yes-btn {
            background-color: #4CAF50;
            color: white;
        }
        
        .yes-btn:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }
        
        .no-btn {
            background-color: #f44336;
            color: white;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .no-btn:hover {
            background-color: #da190b;
            transform: scale(1.05);
        }
        
        .no-btn.running {
            position: absolute;
            transition: all 0.2s ease-out;
        }
        /* Styles for different templates */
        
        .yes-template {
            background-color: #e8f5e9;
        }
        
        .no-template {
            background-color: #ffebee;
        }
        
        .back-btn {
            background-color: #2196F3;
            color: white;
            margin-top: 30px;
        }
        
        .back-btn:hover {
            background-color: #0b7dda;
        }
        /* Music controls */
        
        .music-controls {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            display: inline-block;
        }
        
        .music-controls button {
            padding: 10px 20px;
            font-size: 14px;
            margin: 0 5px;
        }
        /* Add custom content styles here */
        
        .content-box {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Initial Question Screen -->
        <div id="questionScreen" class="question-screen">
            <h1>Do you want to continue?</h1>
            <p>Make your choice below:</p>
            <div class="button-group">
                <button class="yes-btn" onclick="showYesTemplate()">Yes</button>
                <button class="no-btn" onclick="showNoTemplate()">No</button>
            </div>
        </div>

        <!-- Yes Template -->
        <div id="yesTemplate" class="template-screen">
            <h1>Welcome! ðŸŽ‰</h1>
            <div class="content-box">
                <p>You chose YES! Here's your special content.</p>
                <p>The music is playing for you.</p>
                <!-- Add more content here -->
            </div>
            <div class="music-controls">
                <button onclick="toggleMusic()">Pause/Play Music</button>
                <button onclick="changeVolume(0.5)">50% Volume</button>
                <button onclick="changeVolume(1)">100% Volume</button>
            </div>
            <button class="back-btn" onclick="goBack()">Go Back</button>
        </div>

        <!-- No Template -->
        <div id="noTemplate" class="template-screen">
            <h1>Maybe Next Time ðŸ˜Š</h1>
            <div class="content-box">
                <p>You chose NO. That's okay!</p>
                <p>Feel free to come back anytime.</p>
                <!-- Add more content here -->
            </div>
            <button class="back-btn" onclick="goBack()">Go Back</button>
        </div>
    </div>

    <!-- Audio element -->
    <audio id="backgroundMusic" loop>
        <!-- Add your music file URL here -->
        <source src="your-music-file.mp3" type="audio/mpeg">
        <source src="your-music-file.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio>

    <script>
        const audio = document.getElementById('backgroundMusic');
        const questionScreen = document.getElementById('questionScreen');
        const yesTemplate = document.getElementById('yesTemplate');
        const noTemplate = document.getElementById('noTemplate');

        // Run away button logic
        const noButton = document.querySelector('.no-btn');
        let escapeCount = 0;
        const maxEscapes = 5; // After 5 escapes, let them click it

        function setupRunAwayButton() {
            noButton.addEventListener('mouseenter', function(e) {
                if (escapeCount < maxEscapes) {
                    runAway(e);
                    escapeCount++;
                }
            });

            // For mobile devices
            noButton.addEventListener('touchstart', function(e) {
                if (escapeCount < maxEscapes) {
                    e.preventDefault();
                    runAway(e);
                    escapeCount++;
                }
            }, {
                passive: false
            });
        }

        function runAway(e) {
            const button = e.target;
            const buttonRect = button.getBoundingClientRect();
            const container = document.querySelector('.container');
            const containerRect = container.getBoundingClientRect();

            // Make button absolute positioned
            if (!button.classList.contains('running')) {
                button.classList.add('running');
                button.style.left = buttonRect.left + 'px';
                button.style.top = buttonRect.top + 'px';
            }

            // Calculate new random position
            const margin = 50; // Keep button at least 50px from edges
            const maxX = window.innerWidth - buttonRect.width - margin;
            const maxY = window.innerHeight - buttonRect.height - margin;

            let newX, newY;
            const attempts = 10;

            // Try to find a position far from current position
            for (let i = 0; i < attempts; i++) {
                newX = margin + Math.random() * (maxX - margin);
                newY = margin + Math.random() * (maxY - margin);

                // Ensure it's far enough from current position
                const distance = Math.sqrt(
                    Math.pow(newX - buttonRect.left, 2) +
                    Math.pow(newY - buttonRect.top, 2)
                );

                if (distance > 150) break;
            }

            button.style.left = newX + 'px';
            button.style.top = newY + 'px';

            // Add a little message after a few escapes
            if (escapeCount === 2) {
                button.textContent = "No way!";
            } else if (escapeCount === 4) {
                button.textContent = "Okay, fine...";
            }
        }

        function showYesTemplate() {
            // Hide question screen
            questionScreen.style.display = 'none';

            // Show yes template
            yesTemplate.style.display = 'block';

            // Change background
            document.body.classList.add('yes-template');

            // Play music (will work on iPhone because it's triggered by user interaction)
            audio.play().catch(error => {
                console.log('Audio play failed:', error);
                // You could show a play button here if needed
            });
        }

        function showNoTemplate() {
            // Hide question screen
            questionScreen.style.display = 'none';

            // Show no template
            noTemplate.style.display = 'block';

            // Change background
            document.body.classList.add('no-template');
        }

        function goBack() {
            // Reset everything
            questionScreen.style.display = 'block';
            yesTemplate.style.display = 'none';
            noTemplate.style.display = 'none';

            // Remove background classes
            document.body.classList.remove('yes-template', 'no-template');

            // Stop music
            audio.pause();
            audio.currentTime = 0;

            // Reset no button
            escapeCount = 0;
            noButton.textContent = "No";
            noButton.classList.remove('running');
            noButton.style.left = '';
            noButton.style.top = '';
        }

        function toggleMusic() {
            if (audio.paused) {
                audio.play();
            } else {
                audio.pause();
            }
        }

        function changeVolume(level) {
            audio.volume = level;
        }

        // Optional: Preload audio to reduce delay
        audio.load();

        // Initialize run away button
        setupRunAwayButton();
    </script>
</body>

</html>